<h2>Choisissez vos places pour {{ seance.film.title }}</h2>
<p>Salle {{ salle.id }} - {{ capacity }} places</p>

<style>
    .salle-plan {
        display: flex;
        flex-wrap: wrap;
        width: 400px;
    }
    .seat {
        width: 30px;
        height: 30px;
        margin: 2px;
        text-align: center;
        line-height: 30px;
        border: 1px solid #ccc;
        cursor: pointer;
        user-select: none;
        background-color: #f8f9fa;
        transition: background-color 0.2s;
    }
    .seat.selected {
        background-color: #007bff;
        color: white;
    }
</style>

<div class="salle-plan">
    {% for i in 1..capacity %}
        <div class="seat" data-seat="{{ i }}">{{ i }}</div>
    {% endfor %}
</div>
<h1>Chaque place est à 7,50€</h1>

<button class="btn btn-primary mt-4" onclick="validateSelection()">Valider ma sélection</button>
<a href="{{ path('app_films') }}" class="btn btn-outline-primary mt-4">Retour à la liste</a>

<script>
    const seats = document.querySelectorAll('.seat');
    seats.forEach(seat => {
        seat.addEventListener('click', () => {
            seat.classList.toggle('selected');
        });
    });

    function validateSelection() {
        const selectedSeats = Array.from(document.querySelectorAll('.seat.selected'))
            .map(seat => seat.dataset.seat);

        if (selectedSeats.length === 0) {
            alert("Veuillez sélectionner au moins une place !");
            return;
        }

        alert("Vous avez sélectionné les places : " + selectedSeats.join(", "));

        // Ici tu pourrais envoyer selectedSeats en AJAX ou via un formulaire caché.
    }
</script>

